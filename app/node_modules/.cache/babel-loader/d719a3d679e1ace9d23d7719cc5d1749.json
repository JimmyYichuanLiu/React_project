{"ast":null,"code":"var _jsxFileName = \"/Users/yichuanliu/Desktop/8.8/app/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: null,\n      showDetail: false,\n      nameFilter: \"\",\n      searchFilter: \"\",\n      detail: null\n    };\n\n    this.clickDetail = user => {\n      this.setState({\n        showDetail: true,\n        detail: user\n      });\n    };\n\n    this.close = () => {\n      this.setState({\n        showDetail: false\n      });\n    };\n\n    this.sortById = () => {\n      const data = [...this.state.data];\n      data.sort((a, b) => {\n        return b.id - a.id;\n      });\n      this.setState({\n        data\n      });\n    };\n\n    this.handleFilterTextChange = event => {\n      this.setState({\n        nameFilter: event.target.value\n      });\n    };\n\n    this.handleSearchTextChange = event => {\n      this.setState({\n        searchFilter: event.target.value\n      });\n    };\n\n    this.filterByName = () => {\n      const data = [...this.state.data];\n      const text = this.state.nameFilter;\n      const names = data.filter(item => `${item.first_name}${item.last_name}`.includes(text));\n      this.setState({\n        data: names,\n        nameFilter: \"\"\n      });\n    };\n\n    this.searchByEmail = () => {\n      const data = [...this.state.data];\n      const text = this.state.searchFilter;\n      const names = data.filter(item => item.email.includes(text));\n      this.setState({\n        data: names,\n        searchFilter: \"\"\n      });\n    };\n  }\n\n  async componentDidMount() {\n    this.columns = [\"id\", \"first_name\", \"last_name\", \"email\", \"phone\"];\n    const response = await fetch(\"/api/json\");\n    const body = await response.json();\n    this.setState({\n      data: body.customers\n    });\n  }\n\n  render() {\n    const data = this.state.data;\n    console.log(this.state);\n\n    if (!data) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 14\n        }\n      });\n    }\n\n    if (this.state.showDetail && this.state.detail) {\n      const address = this.state.detail.address;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: \"10px\",\n          border: \"1px solid #000\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }, \"address1\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }\n      }, address.address1), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, \"address2\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, address.address2), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, \"State\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, address.state), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, \"City\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, address.city), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, \"ZipCode\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, address.zipcode), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.close,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, \"Close\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.sortById,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, \"SortById\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.nameFilter,\n      onChange: this.handleFilterTextChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.filterByName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"FilterByName\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.searchFilter,\n      onChange: this.handleSearchTextChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.searchByEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"SearchByEmail\")), /*#__PURE__*/React.createElement(\"table\", {\n      border: 2,\n      cellPadding: 5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, this.columns.map(it => /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, it)))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, data.map(it => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        onClick: this.clickDetail.bind(this, it),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }, this.columns.map(column => {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 28\n          }\n        }, it[column]);\n      }));\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yichuanliu/Desktop/8.8/app/src/App.js"],"names":["React","Component","App","state","data","showDetail","nameFilter","searchFilter","detail","clickDetail","user","setState","close","sortById","sort","a","b","id","handleFilterTextChange","event","target","value","handleSearchTextChange","filterByName","text","names","filter","item","first_name","last_name","includes","searchByEmail","email","componentDidMount","columns","response","fetch","body","json","customers","render","console","log","address","padding","border","address1","address2","city","zipcode","marginBottom","map","it","bind","column"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    data: null,\n    showDetail: false,\n    nameFilter: \"\",\n    searchFilter: \"\",\n    detail: null,\n  };\n\n  async componentDidMount() {\n    this.columns = [\"id\", \"first_name\", \"last_name\", \"email\", \"phone\"];\n    const response = await fetch(\"/api/json\");\n    const body = await response.json();\n    this.setState({\n      data: body.customers,\n    });\n  }\n\n  clickDetail = (user) => {\n    this.setState({\n      showDetail: true,\n      detail: user,\n    });\n  };\n\n  close = () => {\n    this.setState({\n      showDetail: false,\n    });\n  };\n\n  sortById = () => {\n    const data = [...this.state.data];\n    data.sort((a, b) => {\n      return b.id - a.id;\n    });\n    this.setState({\n      data,\n    });\n  };\n\n  handleFilterTextChange = (event) => {\n    this.setState({\n      nameFilter: event.target.value,\n    });\n  };\n\n  handleSearchTextChange = (event) => {\n    this.setState({\n      searchFilter: event.target.value,\n    });\n  };\n\n  filterByName = () => {\n    const data = [...this.state.data];\n    const text = this.state.nameFilter;\n    const names = data.filter((item) =>\n      `${item.first_name}${item.last_name}`.includes(text)\n    );\n    this.setState({\n      data: names,\n      nameFilter: \"\",\n    });\n  };\n\n  searchByEmail = () => {\n    const data = [...this.state.data];\n    const text = this.state.searchFilter;\n    const names = data.filter((item) => item.email.includes(text));\n    this.setState({\n      data: names,\n      searchFilter: \"\",\n    });\n  };\n\n  render() {\n    const data = this.state.data;\n    console.log(this.state);\n    if (!data) {\n      return <div />;\n    }\n\n    if (this.state.showDetail && this.state.detail) {\n      const address = this.state.detail.address;\n      return (\n        <div style={{ padding: \"10px\", border: \"1px solid #000\" }}>\n          <p className=\"title\">address1</p>\n          <p>{address.address1}</p>\n          <p className=\"title\">address2</p>\n          <p>{address.address2}</p>\n          <p className=\"title\">State</p>\n          <p>{address.state}</p>\n          <p className=\"title\">City</p>\n          <p>{address.city}</p>\n          <p className=\"title\">ZipCode</p>\n          <p>{address.zipcode}</p>\n          <button onClick={this.close}>Close</button>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <button onClick={this.sortById}>SortById</button>\n        <div>\n          <input\n            value={this.state.nameFilter}\n            onChange={this.handleFilterTextChange}\n          />\n          <button onClick={this.filterByName}>FilterByName</button>\n        </div>\n        <div style={{ marginBottom: \"20px\" }}>\n          <input\n            value={this.state.searchFilter}\n            onChange={this.handleSearchTextChange}\n          />\n          <button onClick={this.searchByEmail}>SearchByEmail</button>\n        </div>\n        <table border={2} cellPadding={5}>\n          <thead>\n            <tr>\n              {this.columns.map((it) => (\n                <td>{it}</td>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((it) => {\n              return (\n                <tr onClick={this.clickDetail.bind(this, it)}>\n                  {this.columns.map((column) => {\n                    return <td>{it[column]}</td>;\n                  })}\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}